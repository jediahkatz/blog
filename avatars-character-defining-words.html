<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Avatar's character-defining words</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/5.4.5/css/swiper.min.css">
    <link rel="stylesheet" href="css/avatars-character-defining-words.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-171792579-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-171792579-1');
    </script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" 
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" 
    crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <section class="section">
            <div class="columns is-centered">
                <div class="column is-half content">
                    <h1 class="subtitle has-text-black is-6">July 11</h1>
                    <br />
                    <h1 class="title has-text-black is-2">Avatar's character-defining words</h1>
                    <div>
                        <p class="has-text-black mb-4">
                            A few years ago, I read this wonderful article on The Pudding about
                            <a class="has-text-black" href="https://pudding.cool/2017/09/hip-hop-words/">
                                <u>which words are "most hip hop"</u>
                            </a>.
                            Since <i>Avatar: The Last Airbender</i> has recently enjoyed a resurgence
                            in popularity now that it's finally on Netflix, I was inspired to do a similar project:
                            which words are most central to each character?
                        </p>
                        <p class="has-text-black mb-4">
                            In the Pudding article, they used a dataset of 26 million words. We'll have to do
                            our best with the 120,138 words in the <i>Avatar</i> script.
                        </p>
                        <p class="has-text-black mb-4">
                            To find the defining words for a character &mdash; let's say it's Sokka &mdash;
                            we'll need to look for the words that he says frequently, but other characters don't.
                            As a first attempt, we might try to look for the words that have the highest likelihood
                            of being spoken by Sokka, instead of any other character. Here's just a few of them:
                        </p>
                        <table class="table has-text-black is-borderless">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                    <th>odds by Sokka</th>
                                    <th>Sokka count</th>
                                    <th>others count</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1.</td>
                                    <th>scare</th>
                                    <td>100%</td>
                                    <td>1</td>
                                    <td>0</th>
                                </tr>
                                <tr>
                                    <td>2.</td>
                                    <th>cookin</th>
                                    <td>100%</td>
                                    <td>1</td>
                                    <td>0</th>
                                </tr>
                                <tr>
                                    <td>3.</td>
                                    <th>weirdness</th>
                                    <td>100%</td>
                                    <td>1</td>
                                    <td>0</th>
                                </tr>
                            </tbody>
                        </table>
                        <p class="has-text-black mb-4">
                            I can see Sokka saying "cookin," but I'd hardly call it a "character-defining word."
                        </p>
                        <p class="has-text-black mb-4">
                            Do you see the problem here? Our dataset is too small, so we are just selecting all the
                            obscure words that were only spoken once in the entire series, where the speaker just
                            happened to be Sokka.
                        </p>
                        <p class="has-text-black mb-4">
                            In order to fix this, we'll use a statistic called the
                            <a class="has-text-black" href="https://en.wikipedia.org/wiki/Tf-idf"><u>tf-idf score</u></a>,
                            which is used to measure how important a word is to a document in a collection of documents.
                            In this case, we can consider Sokka to be a document (really, the document is all of
                            Sokka's lines) and find which words are most important to his lines. Tf-idf will prioritize
                            words that Sokka says frequently, but deprioritize words that have been said by other characters.
                        </p>
                        <p class="has-text-black mb-4">
                            This approach works a lot better, although it isn't perfect. Here's the 
                            breakdown for all characters in the series who have at least 200 significant words of 
                            dialogue.<sup><a class="has-text-black" href="#footnote-1">1</a></sup>
                            Multi-word proper nouns (e.g., "ty lee") are counted as one word.
                        </p>
                        <p class="has-text-black is-size-7" id="footnote-1">
                            <sup>1</sup> In the computations I ignore <i>stop words</i>, which are typically common words like 
                            "I", "am", and "the" that are not significant in this context.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <section class="hero is-primary swiper-hero">
        <div class="hero-body">
            <h1 class="title has-text-centered">Character-defining words in <i>Avatar</i></h1>
            <h1 class="subtitle has-text-centered mb-0">32 characters' top 10 central words across the series, using tf-idf</h1>
            <div class="swiper-container swiper-container-horizontal swiper-container-free-mode swiper-container-all"
                style="cursor: grab;">
                <div class="swiper-wrapper swiper-wrapper-all" 
                    style="transform: translate3d(-9900px, 0px, 0px); transition-duration: 0ms;">
                </div>
            </div>
        </div>
    </section>
    <div class="container">
        <section class="section">
            <div class="columns is-centered">
                <div class="column is-half content">
                    <div>
                        <p class="has-text-black mb-4">
                            A lot of names appear in the lists of words, and we can see some sensible patterns emerge:
                            members of the Gaang mention each other by name a lot, and to a lesser extent so do members
                            of the fire nation. For minor characters, we see words relating to the context they appear in,
                            like "chakras" for Guru Pathik, "ba sing se" for Long Feng, and "library" for Professor Zei.
                        </p>
                        <p class="has-text-black mb-4">
                            An interesting note on methodology: I had to run the tf-idf analysis for the most important 
                            characters separately from the full list of characters. Otherwise, if we keep them together when
                            calculating tf-idf scores, the major characters end up with lists full of words like "want", "know", 
                            and "need".
                        </p>
                        <p class="has-text-black mb-4">
                            Why might this be? Well, these are all introspective, character-developing words &mdash;
                            even though our main cast says them all the time, minor characters who don't get as much
                            development say them much less! So including minor characters makes those words seem much
                            rarer than we would typically expect them to be.
                        </p>
                        <p class="has-text-black mb-4">
                            Since <i>Avatar</i> is renowned for its character development, after all, it might be 
                            illuminating to see how characters' central words change over time. Our analysis stands 
                            to gain more nuance if we apply it to each individual season, rather than the series as a whole.
                        </p>
                        <p class="has-text-black mb-4">
                            Here's what that looks like. This analysis shows only the undisputed main characters
                            who also appear in all three seasons (sorry, Azula and Toph), although characters
                            from the previous section are still used for the calculations.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <section class="hero is-primary swiper-hero">
        <div class="hero-body">
            <h1 class="title has-text-centered">Character growth by vocabulary in <i>Avatar</i></h1>
            <h1 class="subtitle has-text-centered mb-0">5 characters' top 10 central words in each season, using tf-idf</h1>
            <div class="swiper-container swiper-container-horizontal swiper-container-free-mode swiper-container-individual"
                style="cursor: grab;">
                <div class="swiper-wrapper swiper-wrapper-individual" 
                    style="transform: translate3d(-9900px, 0px, 0px); transition-duration: 0ms;">
                </div>
            </div>
        </div>
    </section>
    <div class="container">
        <section class="section">
            <div class="columns is-centered">
                <div class="column is-half content">
                    <div>
                        <p class="has-text-black mb-4">
                            Some of the clearer insights come from Zuko's shifting lexicon over the seasons. Although
                            I mentioned that I separated major characters during calculations to prevent character-developing
                            words from being overrepresented, they still show up a lot in Zuko's lists, since he is arguably
                            given the most character development in the show.
                        </p>
                        <p class="has-text-black mb-4">
                            Season 1 Zuko is mostly occupied with capturing the avatar, a goal which he never
                            stops to question ("need"). But in Season 2, he becomes more concerned with his family 
                            and begins his internal struggle to discover where he truly fits in ("want", "realized").
                            By the middle of Season 3, Zuko's metamorphosis is complete and he achieves certitude about
                            his choices and the ability to reflect on his former self ("know", "wanted", "thought") .
                        </p>
                        <p class="has-text-black mb-4">
                            Let's cap off this post with a couple more statistics. A relatively basic one that we've
                            neglected is the total word count of every character. Make your guess: who do you think
                            talks the most? Here's the top ten.
                        </p>
                        <h1 class="is-title is-3 has-text-centered has-text-black"><i>Avatar</i> characters by word count</h1>
                        <div id="word-count-chart"></div>
                        <p class="has-text-black mb-4">
                            Finally, let's try to empirically determine who are the optimists and pessimists of <i>Avatar</i>!
                            VADER, which stands for <i>Valence Aware Dictionary and sEntiment Reasoner</i>, is a sentiment 
                            analysis tool that can determine whether a given sentence is positive, negative, or neutral.
                            Although VADER was built for social media, it will work well enough for our purposes.
                        </p>
                        <p class="has-text-black mb-4">
                           Using VADER, we can determine what fraction of each character's lines (i.e., sentences)
                           are positive, negative, or neutral. Here's an arbitrary selection of ten characters ranked
                           by their net positivity, meaning the percentage of positive lines minus the percentage
                           of negative lines.
                        </p>
                        <h1 class="is-title is-3 has-text-centered has-text-black"><i>Avatar</i> characters by positivity</h1>
                        <div id="sentiment-chart"></div>
                        <p class="has-text-black mb-4">
                            Although I didn't include him in the chart, the character with the highest fraction of positive
                            lines (and a net positivity second only to Ty Lee) is, surprisingly, the grumpy and sexist 
                            Master Pakku. Rather than suggesting that Pakku is a wellspring of good cheer, this result
                            highlights how VADER can fail &mdash; it lacks context and an understanding of sarcasm,
                            so Pakku's snarky lines like "Well, have fun teaching yourself" are tagged as positive.
                        </p>
                        <hr>
                        <p class="has-text-black mb-4">
                            That's all for now. If you are interested in the details of my methodology (there's nothing
                            particularly special) or want to see the data I left out of this post, then feel free to take a look at the 
                            <a class="has-text-black" href="https://github.com/jediahkatz/avatar-script-analysis"><u>full source code</u></a>.
                        </p>
                        <p class="has-text-black mb-4">
                            Thanks to <a class="has-text-black" href="https://pudding.cool"><u>The Pudding</u></a> 
                            for inspiration, 
                            <a class="has-text-black" href="http://atla.avatarspirit.net/transcripts.php"><u>AvatarSpirit.net</u></a>
                            for the transcripts, and the maintainers of
                            <a class="has-text-black" href="https://www.nltk.org/"><u>NLTK</u></a> for the sentiment analysis implementation!
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/5.4.5/js/swiper.min.js"></script>
    <script type="text/javascript" src="js/avatars-character-defining-words.js"></script>
</body>

</html>